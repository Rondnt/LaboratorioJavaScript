let displayValue="";let variables={};let operationsStack=[];function appendValue(a){displayValue+=a;updateDisplay()}function clearDisplay(){displayValue="";updateDisplay()}function calculateExpression(){try{const a=customEval(displayValue);const e=`${displayValue} = ${a}`;operationsStack.push(e);displayValue="";updateDisplay();showOperationsStack()}catch(a){displayValue="Error";updateDisplay()}}function customEval(expression){const replacedExpression=replaceVariables(expression);return eval(replacedExpression)}function replaceVariables(a){const e=/[a-zA-Z]+[0-9]*/g;return a.replace(e,a=>{const e=a.trim();if(variables.hasOwnProperty(e)){return variables[e]}else{throw new Error(`Variable '${e}' no definida`)}})}function updateDisplay(){const a=document.getElementById("display");a.textContent=displayValue}function showOperationsStack(){const t=document.getElementById("operations-list");t.innerHTML="";operationsStack.forEach(a=>{const e=document.createElement("li");e.textContent=a;t.appendChild(e)})}function clearOperationsStack(){operationsStack=[];showOperationsStack()}function defineVariable(){const a=prompt("Ingrese el nombre de la variable:");if(a){const e=prompt(`Ingrese el valor para '${a}':`);if(e!==null){variables[a]=parseFloat(e);alert(`Variable '${a}' definida con valor ${e}`)}}}function addVariableToDisplay(a){displayValue+=a;updateDisplay()}
